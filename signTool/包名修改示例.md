# åŒ…åä¿®æ”¹å·¥å…·ä½¿ç”¨ç¤ºä¾‹

## ğŸ“‹ åŠŸèƒ½è¯´æ˜

`change_package.sh` å·¥å…·å¯ä»¥å¸®æ‚¨ï¼š
- ä¿®æ”¹Androidåº”ç”¨çš„åŒ…å
- æ›´æ–°ç­¾åé…ç½®
- å¯é€‰æ›´æ–°å¾®ä¿¡AppID
- è‡ªåŠ¨å¤‡ä»½åŸæ–‡ä»¶
- æ”¯æŒä¸€é”®è¿˜åŸ

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. åŸºæœ¬ç”¨æ³•ï¼ˆä¸ä¿®æ”¹å¾®ä¿¡AppIDï¼‰
```bash
cd signTool
./change_package.sh com.newcompany.newapp myapp.keystore
```

### 2. å®Œæ•´ç”¨æ³•ï¼ˆåŒ…å«å¾®ä¿¡AppIDï¼‰
```bash
cd signTool
./change_package.sh com.newcompany.newapp myapp.keystore wx1234567890abcdef
```

### 3. è¿˜åŸåŒ…å
```bash
cd signTool
./change_package.sh restore
```

## ğŸ“ å‚æ•°è¯´æ˜

| å‚æ•° | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| new_package_name | âœ… | æ–°çš„åŒ…å | `com.newcompany.newapp` |
| keystore_file | âœ… | ç­¾åæ–‡ä»¶å | `myapp.keystore` |
| wx_appid | âŒ | å¾®ä¿¡AppIDï¼ˆå¯é€‰ï¼‰ | `wx1234567890abcdef` |

## ğŸ”§ ä¿®æ”¹å†…å®¹

å·¥å…·ä¼šè‡ªåŠ¨ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ï¼š

### 1. Androidé…ç½®æ–‡ä»¶
- `app/build.gradle` - æ›´æ–°namespace
- `app/AndroidManifest.xml` - æ›´æ–°packageå’ŒActivityå¼•ç”¨
- `gradle.properties` - æ›´æ–°ç­¾åé…ç½®

### 2. Javaæºä»£ç 
- åˆ›å»ºæ–°çš„åŒ…ç›®å½•ç»“æ„
- ç§»åŠ¨å¹¶æ›´æ–°Javaæ–‡ä»¶ä¸­çš„packageå£°æ˜
- æ›´æ–°Activityå¼•ç”¨

### 3. å¯é€‰æ›´æ–°
- å¾®ä¿¡AppIDï¼ˆå¦‚æœæä¾›ï¼‰

## ğŸ“ å¤‡ä»½æœºåˆ¶

- è‡ªåŠ¨åˆ›å»ºå¸¦æ—¶é—´æˆ³çš„å¤‡ä»½ç›®å½•
- å¤‡ä»½æ‰€æœ‰è¢«ä¿®æ”¹çš„æ–‡ä»¶
- æ”¯æŒä¸€é”®è¿˜åŸåˆ°ä¸Šæ¬¡å¤‡ä»½

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åŒ…åæ ¼å¼**ï¼šå¿…é¡»ç¬¦åˆAndroidåŒ…åè§„èŒƒ
   - å°å†™å­—æ¯å¼€å¤´
   - åªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿å’Œç‚¹å·
   - è‡³å°‘åŒ…å«ä¸€ä¸ªç‚¹å·

2. **ç­¾åæ–‡ä»¶**ï¼šå¿…é¡»å­˜åœ¨äºsignToolç›®å½•ä¸­

3. **å¾®ä¿¡AppIDæ ¼å¼**ï¼š`wx` + 16ä½åå…­è¿›åˆ¶å­—ç¬¦

4. **å¤‡ä»½é‡è¦**ï¼šä¿®æ”¹å‰ä¼šè‡ªåŠ¨å¤‡ä»½ï¼Œä½†å»ºè®®æ‰‹åŠ¨å¤‡ä»½é‡è¦æ–‡ä»¶

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹ç¤ºä¾‹

### æ­¥éª¤1ï¼šç”Ÿæˆæ–°ç­¾å
```bash
cd signTool
./generate_keystore.sh mynewapp
# ç”Ÿæˆï¼šmynewapp.keystoreï¼Œå¯†ç ï¼šmynewapp123456
```

### æ­¥éª¤2ï¼šè·å–MD5ç­¾åå€¼
```bash
./get_md5_signature.sh mynewapp.keystore mynewapp
# è·å–MD5å€¼ç”¨äºå¾®ä¿¡å¼€æ”¾å¹³å°
```

### æ­¥éª¤3ï¼šä¿®æ”¹åŒ…å
```bash
./change_package.sh com.mynewcompany.mynewapp mynewapp.keystore wx1234567890abcdef
```

### æ­¥éª¤4ï¼šæ¸…ç†å¹¶é‡æ–°æ„å»º
```bash
cd ../build/jsb-link/frameworks/runtime-src/proj.android-studio
./gradlew clean
./gradlew assembleRelease
```

### æ­¥éª¤5ï¼šå¦‚éœ€è¿˜åŸ
```bash
cd ../../../../signTool
./change_package.sh restore
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: åŒ…åæ ¼å¼é”™è¯¯æ€ä¹ˆåŠï¼Ÿ
A: ç¡®ä¿åŒ…åç¬¦åˆè§„èŒƒï¼šå°å†™å­—æ¯å¼€å¤´ï¼ŒåŒ…å«ç‚¹å·ï¼Œå¦‚ `com.company.app`

### Q: ç­¾åæ–‡ä»¶æ‰¾ä¸åˆ°ï¼Ÿ
A: ç¡®ä¿ç­¾åæ–‡ä»¶åœ¨signToolç›®å½•ä¸­ï¼Œæ–‡ä»¶åæ­£ç¡®

### Q: å¦‚ä½•æŸ¥çœ‹å½“å‰åŒ…åï¼Ÿ
A: æŸ¥çœ‹ `build/jsb-link/frameworks/runtime-src/proj.android-studio/app/build.gradle` ä¸­çš„namespace

### Q: è¿˜åŸåè¿˜éœ€è¦é‡æ–°æ„å»ºå—ï¼Ÿ
A: æ˜¯çš„ï¼Œè¿˜åŸåéœ€è¦æ¸…ç†æ„å»ºç¼“å­˜å¹¶é‡æ–°æ„å»º

### Q: ä¸ºä»€ä¹ˆsrcç›®å½•ä¸­å°‘äº†comæ–‡ä»¶å¤¹ï¼Ÿ
A: è¿™æ˜¯æ­£å¸¸çš„ï¼ŒåŒ…åä¿®æ”¹å·¥å…·ä¼šï¼š
1. å¤åˆ¶WXEntryActivity.javaåˆ°æ–°çš„åŒ…ç›®å½•
2. è¯¢é—®æ˜¯å¦åˆ é™¤æ—§çš„comç›®å½•
3. å¦‚æœé€‰æ‹©åˆ é™¤ï¼Œæ—§çš„comç›®å½•ä¼šè¢«ç§»é™¤
4. å¯ä»¥é€šè¿‡è¿˜åŸåŠŸèƒ½æ¢å¤åŸå§‹ç»“æ„

### Q: å¦‚æœè¯¯åˆ äº†æ–‡ä»¶æ€ä¹ˆåŠï¼Ÿ
A: ä½¿ç”¨è¿˜åŸåŠŸèƒ½ï¼š`./change_package.sh restore`ï¼Œæˆ–è€…ä»å¤‡ä»½ç›®å½•æ‰‹åŠ¨æ¢å¤

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æ˜¯å¦åœ¨æ­£ç¡®çš„ç›®å½•ä¸­è¿è¡Œè„šæœ¬
2. å‚æ•°æ ¼å¼æ˜¯å¦æ­£ç¡®
3. ç­¾åæ–‡ä»¶æ˜¯å¦å­˜åœ¨
4. å¤‡ä»½æ–‡ä»¶æ˜¯å¦å®Œæ•´
